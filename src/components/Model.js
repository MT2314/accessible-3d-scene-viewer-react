/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, { useRef } from 'react'
import { useGLTF } from '@react-three/drei'
let gltf;
export default function Model(props) {
  gltf = props.gltfFile
  let meshArr = props.meshes
  console.log(props)
  const { nodes, materials } = useGLTF(props.gltfFile)

  return (
    <group {...props} dispose={null}>
      {meshArr.map((mesh, index) => {
        // let geomtery = nodes.mesh.geomtery
        console.log(nodes[mesh.geometry]["geometry"])
        return (
          <>
          <mesh
            key={index}
            geometry={nodes[mesh.geometry]["geometry"]}
            material={materials[mesh.material]}
          >
          </mesh>
          </>
  )

})}
    </group >
    // <group {...props} dispose={null}>
    //   <mesh geometry={nodes.Donut.geometry} material={materials['Material.002']}>
    //     <mesh geometry={nodes.Icing.geometry} material={materials['Material.001']} />
    //   </mesh>
    // </group>
  )
}

useGLTF.preload(gltf)
